<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yukiko Kimono</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            display: flex;
            min-height: 90vh;
        }

        .specs-side {
            flex: 0 0 35%;
            padding: 40px;
            overflow-y: auto;
            max-height: 90vh;
            transition: flex 0.3s ease;
        }

        .specs-side.image-focused {
            flex: 0 0 70%;
        }

        .sections-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .section.full-width {
            grid-column: 1 / -1;
        }

        .images-side {
            flex: 1;
            padding: 40px;
            background: #f8f9fa;
            overflow-y: auto;
            max-height: 90vh;
            position: relative;
            transition: flex 0.3s ease;
        }

        .images-side.image-focused {
            flex: 0 0 30%;
        }

        h1 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 2em;
        }

        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .section {
            margin-bottom: 30px;
            padding: 20px;
            border-radius: 10px;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .section:hover {
            background: #f0f4ff;
            border-color: #667eea;
            transform: translateX(5px);
        }

        .section.highlighted {
            background: #e8f0ff;
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .section.hidden {
            display: none;
        }

        .image-card.selected-main {
            border: 4px solid #28a745;
            box-shadow: 0 0 25px rgba(40, 167, 69, 0.6);
        }

        .section h2 {
            color: #764ba2;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .section h3 {
            color: #667eea;
            margin: 15px 0 10px 0;
            font-size: 1.2em;
        }

        .section ul {
            margin-left: 20px;
            line-height: 1.8;
        }

        .section p {
            line-height: 1.8;
            color: #444;
            margin-bottom: 10px;
        }

        .options {
            background: #fff9e6;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #ffc107;
        }

        .checkmark {
            color: #28a745;
            margin-right: 5px;
        }

        .images-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 15px;
        }

        .images-grid.filtered {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        .images-grid.filtered-two {
            grid-template-columns: repeat(2, 1fr);
        }

        .images-grid.filtered-one {
            grid-template-columns: 1fr;
            max-width: 600px;
            margin: 0 auto;
        }

        .image-card {
            background: white;
            border-radius: 10px;
            padding: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .image-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .image-card.highlighted {
            border: 3px solid #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.5);
            transform: scale(1.05);
        }

        .image-card img {
            width: 100%;
            height: 220px;
            object-fit: contain;
            border-radius: 8px;
            background: #f8f9fa;
        }

        .image-card.enlarged img {
            height: 350px;
        }

        .image-label {
            text-align: center;
            margin-top: 10px;
            font-weight: 600;
            color: #667eea;
            font-size: 0.9em;
        }

        .close-btn {
            position: sticky;
            top: 10px;
            right: 10px;
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
            transition: all 0.3s ease;
            margin-bottom: 20px;
            display: none;
            z-index: 100;
        }

        .close-btn:hover {
            background: #764ba2;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(102, 126, 234, 0.6);
        }

        .close-btn.visible {
            display: inline-block;
        }

        .ref-tag {
            display: inline-block;
            background: #e8f0ff;
            color: #667eea;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: 600;
            margin: 0 3px;
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 40px;
            color: white;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
        }

        .modal-close:hover {
            color: #667eea;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 12px;
            margin: 10px 0;
            border-radius: 5px;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="specs-side">
            <h1>Yukiko's Festival Kimono</h1>
            <p class="subtitle">I went from an word doc, to excel, to powerpoint, to this.</p>

            <div class="section" data-images="img15,img15b"
                style="background: linear-gradient(135deg, #fff9e6 0%, #ffe6f0 100%); border: 3px solid #667eea;">
                <h2>Design Philosophy</h2>
                <p><strong>What I love about FoxGirl:</strong></p>
                <ul>
                    <li><strong>Elegant without being overwhelming</strong> - The patterns are beautiful but readable
                    </li>
                    <li><strong>Perfect pattern density</strong> - Not too sparse, not too busy</li>
                    <li><strong>Refined and graceful</strong> - Feels special and formal</li>
                    <li><strong>The flowing windswept hair</strong> - Dynamic yet elegant</li>
                </ul>
                <p style="margin-top: 15px; padding: 10px; background: white; border-radius: 8px;">
                    <strong>Goal:</strong> Capture this same elegance and refinement, but with Yuki's theme.
                </p>

                <h3 style="margin-top: 20px;">Base Kimono Structure Reference:</h3>
                <p><strong>FoxGirl</strong> is the best reference for the blank kimono shape - use this for the basic
                    structure/silhouette before adding patterns.</p>

                <h3 style="margin-top: 15px;">Pattern Inspiration:</h3>
                <p>I love <strong>Fubuki2</strong> and the <strong>Acrylic Stand</strong> for their snowflake patterns!
                    These show the perfect density and distribution of snowflakes.</p>

                <p style="margin-top: 15px;">References: <span class="ref-tag">FoxGirl, FoxGirl2, Fubuki2, Acrylic
                        Stand</span></p>
            </div>

            <div class="section" data-images="img15,img15b,img2,img7,img14">
                <h2>Kimono Shape & Structure</h2>
                <p><strong>Style:</strong> Traditional full-length furisode kimono</p>

                <h3>Key Features:</h3>
                <ul>
                    <li> <strong>Long furisode sleeves</strong> → Like FoxGirl</li>
                    <li> <strong>Neckline:</strong> More open/lower cut, show the booba but not as much as her battle
                        outfit</li>
                    <li> <strong>Length:</strong> Floor-length, NOT trailing</li>
                </ul>
                <p>Main Reference: <span class="ref-tag">FoxGirl (base structure)</span></p>
                <p>Additional: <span class="ref-tag">FoxGirl2, RedDragon (anthro wearing kimono), Fubuki2, PinkKimono
                        (back ribbon)</span></p>
            </div>

            <div class="section" data-images="img7,img15,img15b,acrylic">
                <h2>Kimono Patterns</h2>
                <p><strong>Pattern Coverage:</strong> Medium density - elegant and readable, NOT too dense</p>

                <div class="warning-box">
                    <p style="color: #856404; margin: 0;"><strong>⚠️ About Ayaka1:</strong> While the design itself is
                        beautiful and I love the intricate details, it's TOO DENSE for what we want. There are too many
                        different pattern elements competing for attention (multiple flower types, geometric shapes,
                        swirls, etc.) layered on top of each other. We want elegance through simplicity - fewer pattern
                        types but well-placed.</p>
                </div>

                <h3>Pattern Elements (in order of prominence):</h3>
                <ul>
                    <li><strong>SNOWFLAKES</strong> - MOST PROMINENT (like Fubuki2 and Acrylic Stand - I love these!)
                    </li>
                    <li><strong>PINK CHERRY BLOSSOMS</strong> - Secondary element</li>
                    <li><strong>ICY WIND SWIRLS</strong> - Tertiary element (NOT water waves)</li>
                </ul>
                <p>Best Examples: <span class="ref-tag">Fubuki2 (snowflakes!), FoxGirl (density), Acrylic Stand
                        (snowflakes!)</span></p>
            </div>

            <div class="section" data-images="acrylic,img7,img4,img8">
                <h2>Kimono Color Options</h2>

                <div class="options">
                    <h3>Option A: Icy Blue & White</h3>
                    <ul>
                        <li>Stays close to battle outfit aesthetic</li>
                        <li>Light icy blue and white base</li>
                    </ul>
                    <p>Reference: <span class="ref-tag">Acrylic Stand, Fubuki2</span></p>
                </div>

                <div class="options">
                    <h3>Option B: Blue-to-Purple Gradient</h3>
                    <ul>
                        <li>Icy blue transitioning to purple</li>
                        <li>More formal/special occasion feel</li>
                    </ul>
                    <p>Reference: <span class="ref-tag">Fubuki (same artist as Ayaka1), Ayaka1</span></p>
                    <p style="margin-top: 10px; font-size: 0.95em; color: #666;">
                        <em>Note: Fubuki and Ayaka1 are by the same artist - I love their design aesthetic! Both show
                            beautiful blue-to-purple gradients, just with different pattern densities.</em>
                    </p>
                </div>
            </div>

            <div class="section" data-images="">
                <h2>Obi (Belt) Options</h2>

                <div class="options">
                    <h3>Option A: Gold/Warm Tone</h3>
                    <ul>
                        <li>Rich gold or amber color</li>
                        <li>Creates warm contrast with cool kimono</li>
                    </ul>
                </div>

                <div class="options">
                    <h3>Option B: Deep Purple</h3>
                    <ul>
                        <li>Rich, saturated purple</li>
                        <li>Elegant and formal</li>
                    </ul>
                </div>

                <p><strong>Debatable</strong>: Family Crest in this Area</p>
            </div>

            <div class="section" data-images="">
                <h2>Obi Accessories</h2>
                <p>Color: Pink (Matches main outfit)</p>
                <h3>Front Cord (Obijime):</h3>
                <ul>
                    <li> Simple twisted/braided cord across front of obi</li>
                </ul>

                <h3>Back Bow (Musubi):</h3>
                <ul>
                    <li> Traditional large bow (taiko or butterfly style)</li>
                    <li> Tied at back of obi</li>
                </ul>
            </div>

            <div class="section" data-images="img6,img10">
                <h2>Hair Ornament</h2>

                <h3>Structure:</h3>
                <ul>
                    <li> Multiple flowers with decorative elements</li>
                    <li> Flower Color: White/purple (Same one on the ref sheet)</li>
                    <li> Hair Style: Completely down, loose and flowing (No ponytail)
                    </li>
                </ul>

                <h3>Family Crest Placement:</h3>
                <ul>
                    <li>On a separate medallion/backing piece</li>
                    <li>Flowers cluster in front</li>
                    <li>Snowflake crest on decorative disc behind/above flowers</li>
                </ul>

                <p>References: <span class="ref-tag">Kiyori, PinkKimono (ornament style)</span></p>
            </div>

            <div class="section" data-images="img9,img11">
                <h2>Fan Design</h2>
                <ul>
                    <li> <strong>Base Color:</strong> Navy blue (dark)</li>
                    <li> <strong>Pattern:</strong> COMBINATION of:
                        <ul>
                            <li>Ice swirls (white flowing patterns)</li>
                            <li>Cherry blossoms (pink)</li>
                            <li>Snowflakes</li>
                        </ul>
                    </li>
                </ul>
                <p>References: <span class="ref-tag">FlowerFan (cherry blossom), FlowerFan2 (ice swirl)</span> -
                    Combine both!</p>
            </div>

            <div class="section" data-images="img15,img15b">
                <h2>Legwear</h2>
                <ul>
                    <li> <strong>Type:</strong> Decorative leggings (no shoes/socks -
                        she's anthro dragon)</li>
                    <li> <strong>Pattern:</strong> White-to-blue gradient (subtle)</li>
                    <li> <strong>Top Edge:</strong> Simple rounded edge (NOT spiky like
                        battle outfit)</li>
                    <li> <strong>Decoration:</strong> Simple pink rope/cord tied around
                        thigh</li>
                </ul>
                <p>References: <span class="ref-tag">FoxGirl, FoxGirl2</span> - Both show the same legwear style</p>
            </div>

            <div class="section" data-images="img12,img15,img15b">
                <h2>Pose</h2>
                <ul>
                    <li> <strong>Energy:</strong> Elegant and poised (formal festival
                        feeling)</li>
                    <li> <strong>Fan:</strong> Holding it Open (to display the pattern)
                    </li>
                    <li> <strong>Hair:</strong> Windswept/flowing dramatically</li>
                </ul>
                <p><strong>Overall Feel:</strong> Refined, celebratory, graceful</p>
                <p>References: <span class="ref-tag">Pose, FoxGirl, FoxGirl2</span></p>
                <p><strong>Note:</strong> In the original Powerpoint, there were two custom poses, a battle pose (main
                    outfit) and this pose. I'm not sure if we're doing the poses since we didn't do the battle one but
                    something to talk about later.</p>
            </div>

            <div class="section" data-images="">
                <h2>Important Notes</h2>
                <ul>
                    <li>Pink accents throughout (cherry blossoms, rope, obi cord, back bow)</li>
                    <li>Family crest on hair ornament or obi</li>
                    <li>Keep it elegant - complexity in patterns, not excessive accessories</li>
                    <li>She's representing her family but in a celebratory way</li>
                </ul>
            </div>
        </div>

        <div class="images-side" id="imagesSide">
            <button class="close-btn" id="closeBtn">✕ Show All Images</button>

            <div class="images-grid" id="imagesGrid">
                <!-- Primary Reference -->
                <div class="image-card" data-id="img15" data-sections="img15,img15b,img2,img7,img13,img14">
                    <img src="https://raw.githubusercontent.com/Koryuu/YukikoKimono/main/FoxGirl.png" alt="FoxGirl">
                    <div class="image-label">FoxGirl</div>
                </div>

                <div class="image-card" data-id="img15b" data-sections="img15,img15b,img2,img7,img13,img14">
                    <img src="https://raw.githubusercontent.com/Koryuu/YukikoKimono/main/foxgirl2.jpg" alt="FoxGirl2">
                    <div class="image-label">FoxGirl2 (same character)</div>
                </div>

                <!-- Pattern References -->
                <div class="image-card" data-id="acrylic" data-sections="img7,img15,img15b,acrylic">
                    <img src="https://raw.githubusercontent.com/Koryuu/YukikoKimono/main/acrylicstand.jpg"
                        alt="Acrylic Stand">
                    <div class="image-label">Acrylic Stand (snowflakes!)</div>
                </div>

                <div class="image-card" data-id="img7" data-sections="img15,img15b,img2,img7,img13,img14">
                    <img src="https://raw.githubusercontent.com/Koryuu/YukikoKimono/main/Fubuki2.jpg" alt="Fubuki2">
                    <div class="image-label">Fubuki2 (snowflakes!)</div>
                </div>

                <!-- Shape References -->
                <div class="image-card" data-id="img2" data-sections="img15,img15b,img2,img7,img13,img14">
                    <img src="https://raw.githubusercontent.com/Koryuu/YukikoKimono/main/RedDragon.jpg" alt="RedDragon">
                    <div class="image-label">RedDragon (anthro ref)</div>
                </div>

                <div class="image-card" data-id="img4" data-sections="acrylic,img7,img4,img8">
                    <img src="https://raw.githubusercontent.com/Koryuu/YukikoKimono/main/Fubuki.jpg" alt="Fubuki">
                    <div class="image-label">Fubuki (gradient color)</div>
                </div>

                <div class="image-card" data-id="img10" data-sections="img15,img15b,img2,img7,img14">
                    <img src="https://raw.githubusercontent.com/Koryuu/YukikoKimono/main/PinkKimono.jpg"
                        alt="PinkKimono">
                    <div class="image-label">PinkKimono (back ribbon)</div>
                </div>

                <!-- Color Options -->
                <div class="image-card" data-id="img8" data-sections="acrylic,img7,img4,img8">
                    <img src="https://raw.githubusercontent.com/Koryuu/YukikoKimono/main/Ayaka1.jpg" alt="Ayaka1">
                    <div class="image-label">Ayaka1 (Too Dense)</div>
                </div>

                <!-- Hair Ornaments -->
                <div class="image-card" data-id="img6" data-sections="img6,img10">
                    <img src="https://raw.githubusercontent.com/Koryuu/YukikoKimono/main/Kiyori.jpg" alt="Kiyori">
                    <div class="image-label">Kiyori (hair ornament)</div>
                </div>

                <!-- Fans -->
                <div class="image-card" data-id="img9" data-sections="img9,img11">
                    <img src="https://raw.githubusercontent.com/Koryuu/YukikoKimono/main/FlowerFan.jpg" alt="FlowerFan">
                    <div class="image-label">FlowerFan</div>
                </div>

                <div class="image-card" data-id="img11" data-sections="img9,img11">
                    <img src="https://raw.githubusercontent.com/Koryuu/YukikoKimono/main/FlowerFan2.jpg"
                        alt="FlowerFan2">
                    <div class="image-label">FlowerFan2</div>
                </div>

                <!-- Pose -->
                <div class="image-card" data-id="img12" data-sections="img12,img15,img15b">
                    <img src="https://raw.githubusercontent.com/Koryuu/YukikoKimono/main/Pose.png" alt="Pose">
                    <div class="image-label">Pose</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Image Modal -->
    <div id="imageModal" class="modal">
        <span class="modal-close" id="modalClose">&times;</span>
        <img class="modal-content" id="modalImage">
    </div>

    <script>
        const sections = document.querySelectorAll('.section');
        const imageCards = document.querySelectorAll('.image-card');
        const closeBtn = document.getElementById('closeBtn');
        const imagesSide = document.getElementById('imagesSide');
        const specsSide = document.querySelector('.specs-side');
        const imagesGrid = document.getElementById('imagesGrid');
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImage');
        const modalClose = document.getElementById('modalClose');
        let isFiltered = false;
        let activeSection = null;
        let imageFocusMode = false;
        let activeImageCard = null;

        // Hover on section -> highlight images
        sections.forEach(section => {
            section.addEventListener('mouseenter', () => {
                if (isFiltered || imageFocusMode) return;
                const imageIds = section.getAttribute('data-images').split(',').filter(id => id);
                imageCards.forEach(card => {
                    if (imageIds.includes(card.getAttribute('data-id'))) {
                        card.classList.add('highlighted');
                    }
                });
                section.classList.add('highlighted');
            });

            section.addEventListener('mouseleave', () => {
                if (isFiltered || imageFocusMode) return;
                imageCards.forEach(card => card.classList.remove('highlighted'));
                section.classList.remove('highlighted');
            });

            // Click on section -> filter images
            section.addEventListener('click', () => {
                const imageIds = section.getAttribute('data-images').split(',').filter(id => id);
                if (imageIds.length === 0) return;

                // If in image focus mode, exit it first
                if (imageFocusMode) {
                    exitImageFocusMode();
                }

                // Remove highlight from previous active section
                if (activeSection && activeSection !== section) {
                    activeSection.classList.remove('highlighted');
                }

                // Set new active section
                activeSection = section;
                section.classList.add('highlighted');

                isFiltered = true;
                closeBtn.classList.add('visible');

                // Reset all images first
                imageCards.forEach(card => {
                    card.style.display = 'none';
                    card.classList.remove('highlighted');
                    card.classList.remove('enlarged');
                });

                // Count visible images
                let visibleCount = 0;
                imageCards.forEach(card => {
                    const cardId = card.getAttribute('data-id');
                    if (imageIds.includes(cardId)) {
                        visibleCount++;
                    }
                });

                // Apply appropriate grid class based on count
                imagesGrid.classList.remove('filtered', 'filtered-two', 'filtered-one');
                if (visibleCount === 1) {
                    imagesGrid.classList.add('filtered-one');
                } else if (visibleCount === 2) {
                    imagesGrid.classList.add('filtered-two');
                } else {
                    imagesGrid.classList.add('filtered');
                }

                // Show only relevant images and enlarge them
                imageCards.forEach(card => {
                    const cardId = card.getAttribute('data-id');
                    if (imageIds.includes(cardId)) {
                        card.style.display = 'block';
                        card.classList.add('enlarged');
                    }
                });
            });
        });

        // Hover on image -> highlight sections
        imageCards.forEach(card => {
            card.addEventListener('mouseenter', () => {
                if (isFiltered || imageFocusMode) return;
                const sectionIds = card.getAttribute('data-sections').split(',');
                sections.forEach(section => {
                    const sectionImages = section.getAttribute('data-images').split(',');
                    if (sectionIds.some(id => sectionImages.includes(id))) {
                        section.classList.add('highlighted');
                    }
                });
                card.classList.add('highlighted');
            });

            card.addEventListener('mouseleave', () => {
                if (isFiltered || imageFocusMode) return;
                sections.forEach(section => section.classList.remove('highlighted'));
                card.classList.remove('highlighted');
            });

            // Click on image
            card.addEventListener('click', (e) => {
                // If already in filtered/section mode, open modal instead
                if (isFiltered) {
                    const img = card.querySelector('img');
                    modal.classList.add('active');
                    modalImg.src = img.src;
                    return;
                }

                // If in image focus mode and clicking the same image, open modal
                if (imageFocusMode && activeImageCard === card) {
                    const img = card.querySelector('img');
                    modal.classList.add('active');
                    modalImg.src = img.src;
                    return;
                }

                // If clicking a different image while in image focus mode, switch to new image
                if (imageFocusMode && activeImageCard !== card) {
                    exitImageFocusMode();
                    enterImageFocusMode(card);
                    return;
                }

                // Enter image focus mode
                enterImageFocusMode(card);
            });
        });

        function enterImageFocusMode(card) {
            imageFocusMode = true;
            activeImageCard = card;

            // Change column layout
            specsSide.classList.add('image-focused');
            imagesSide.classList.add('image-focused');

            // Get sections that reference this image
            const cardId = card.getAttribute('data-id');
            const relevantSectionIds = card.getAttribute('data-sections').split(',');

            // Hide sections that don't reference this image
            sections.forEach(section => {
                const sectionImages = section.getAttribute('data-images').split(',');
                if (!sectionImages.includes(cardId)) {
                    section.classList.add('hidden');
                } else {
                    section.classList.add('highlighted');
                }
            });

            // Highlight the selected image card
            card.classList.add('selected-main');

            // Show close button
            closeBtn.classList.add('visible');
            closeBtn.textContent = '✕ Show All Sections';
        }

        function exitImageFocusMode() {
            imageFocusMode = false;

            // Reset column layout
            specsSide.classList.remove('image-focused');
            imagesSide.classList.remove('image-focused');

            // Show all sections and remove highlights
            sections.forEach(section => {
                section.classList.remove('hidden');
                section.classList.remove('highlighted');
            });

            // Remove image selection and highlights from all images
            imageCards.forEach(card => {
                card.classList.remove('selected-main');
                card.classList.remove('highlighted');
            });

            if (activeImageCard) {
                activeImageCard = null;
            }

            // Update close button
            closeBtn.textContent = '✕ Show All Images';
        }

        // Close modal
        modalClose.addEventListener('click', () => {
            modal.classList.remove('active');
        });

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.remove('active');
            }
        });

        // Close button -> show all images/sections
        closeBtn.addEventListener('click', () => {
            if (imageFocusMode) {
                exitImageFocusMode();
                closeBtn.classList.remove('visible');
                return;
            }

            isFiltered = false;
            activeSection = null;
            closeBtn.classList.remove('visible');

            imagesGrid.classList.remove('filtered', 'filtered-two', 'filtered-one');

            imageCards.forEach(card => {
                card.style.display = 'block';
                card.classList.remove('highlighted');
                card.classList.remove('enlarged');
                card.classList.remove('selected-main');
            });

            sections.forEach(section => {
                section.classList.remove('highlighted');
                section.classList.remove('hidden');
            });
        });
    </script>
</body>

</html>



